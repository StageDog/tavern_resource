{"version":3,"file":"script.js","mappings":"AAEOA,eAAeC,EAAWC,GAC/B,MAAMC,QAAeC,MAAMF,GAC3B,IAAKC,EAAOE,GACV,OAAO,EAET,MAAMC,QAAoBH,EAAOI,OAEjC,OADAC,kBAAkBF,IACX,CACT,CAEO,SAASG,EACdC,EAA2G,QAE3G,MAAMC,EAAOC,EAAE,SACZC,KAAK,YAAaC,eAClBC,OAAOH,EAAE,eAAgBI,UAAUC,SACnCC,SAASR,GAEZ,MAAO,CACLS,QAAS,IAAMR,EAAKS,SAExB,CAEO,SAASC,IACd,OAAOT,EAAE,YAAYC,KAAK,CACxBS,UAAWR,cACXS,YAAa,EACbC,OC5BO,i5BD8BX,CAEO,SAASC,IACd,OAAOb,EAAE,SAASC,KAAK,YAAaC,cACtC,CAEO,SAASY,IACd,IAAIC,EAAUC,YAAYC,mBAC1B,OAAOC,QAAQC,cAAcC,aAAcC,IACrCN,IAAYM,IACdN,EAAUM,EACVC,OAAOC,SAASC,WAGtB,Q","sources":["src://tavern_helper_template/util/script.ts","webpack://tavern_helper_template/util/iframe_srcdoc.html?c178"],"sourcesContent":["import iframe_srcdoc from './iframe_srcdoc.html';\n\nexport async function loadReadme(url: string): Promise<boolean> {\n  const readme = await fetch(url);\n  if (!readme.ok) {\n    return false;\n  }\n  const readme_text = await readme.text();\n  replaceScriptInfo(readme_text);\n  return true;\n}\n\nexport function teleportStyle(\n  append_to: JQuery.Selector | JQuery.htmlString | JQuery.TypeOrArray<Element | DocumentFragment> | JQuery = 'head',\n): { destroy: () => void } {\n  const $div = $(`<div>`)\n    .attr('script_id', getScriptId())\n    .append($(`head > style`, document).clone())\n    .appendTo(append_to);\n\n  return {\n    destroy: () => $div.remove(),\n  };\n}\n\nexport function createScriptIdIframe(): JQuery<HTMLIFrameElement> {\n  return $(`<iframe>`).attr({\n    script_id: getScriptId(),\n    frameborder: 0,\n    srcdoc: iframe_srcdoc,\n  }) as JQuery<HTMLIFrameElement>;\n}\n\nexport function createScriptIdDiv(): JQuery<HTMLDivElement> {\n  return $('<div>').attr('script_id', getScriptId()) as JQuery<HTMLDivElement>;\n}\n\nexport function reloadOnChatChange(): EventOnReturn {\n  let chat_id = SillyTavern.getCurrentChatId();\n  return eventOn(tavern_events.CHAT_CHANGED, new_chat_id => {\n    if (chat_id !== new_chat_id) {\n      chat_id = new_chat_id;\n      window.location.reload();\n    }\n  });\n}\n","// Module\nvar code = `<head> <link rel=\"stylesheet\" href=\"https://testingcf.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css\"> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/gh/n0vi028/JS-Slash-Runner/lib/tailwindcss.min.js\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery-ui/dist/jquery-ui.min.js\">${\"<\" + \"/script\"}> <link rel=\"stylesheet\" href=\"https://testingcf.jsdelivr.net/npm/jquery-ui/themes/base/theme.min.css\"/> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/jquery-ui-touch-punch\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/npm/lodash\">${\"<\" + \"/script\"}> ${\"<\" + \"script\"} src=\"https://testingcf.jsdelivr.net/gh/n0vi028/JS-Slash-Runner/src/iframe/adjust_iframe_height.js\">${\"<\" + \"/script\"}> <style>*,::after,::before{box-sizing:border-box}body,html{margin:0!important;padding:0;overflow:hidden!important;max-width:100%!important}</style> </head> `;\n// Exports\nexport default code;"],"names":["async","loadReadme","url","readme","fetch","ok","readme_text","text","replaceScriptInfo","teleportStyle","append_to","$div","$","attr","getScriptId","append","document","clone","appendTo","destroy","remove","createScriptIdIframe","script_id","frameborder","srcdoc","createScriptIdDiv","reloadOnChatChange","chat_id","SillyTavern","getCurrentChatId","eventOn","tavern_events","CHAT_CHANGED","new_chat_id","window","location","reload"],"ignoreList":[],"sourceRoot":""}