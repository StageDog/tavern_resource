import{compare as t}from'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';import{toDotPath as e}from'https://testingcf.jsdelivr.net/npm/zod/v4/core/+esm';var n={};function r(t,e){return t.length=0,t.push(...e),t}function o(t,e){if(0===t.length)return[];const n=[[t[0]]];for(const[r,o]of _.zip(_.dropRight(t),_.drop(t)))e(r,o)?n[n.length-1].push(o):n.push([o]);return n}function i(t){if(!t)return null;try{const e=t.match(/\/(.+)\/([a-z]*)/i);if(!e)return new RegExp(_.escapeRegExp(t),'gi');if(e[3]&&!/^(?!.*?(.).*?\1)[gmixXsuUAJ]+$/.test(e[3]))return new RegExp(t,'gi');let n=e[3];return-1===n.indexOf('g')&&(n+='g'),-1===n.indexOf('i')&&(n+='i'),new RegExp(e[2],n)}catch{return null}}function x(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){const e=16*Math.random()|0;return('x'===t?e:3&e|8).toString(16)})}async function s(e,n){t(await getTavernHelperVersion(),e,'<')&&toastr.error(`'${n}' 需要酒馆助手版本 >= '${e}'`,'版本不兼容')}function p(t){return _([...t.issues]).sortBy(t=>t.path?.length??0).flatMap(t=>{const n=[`✖ ${t.message}`];return t.path?.length&&n.push(`  → 路径: ${e(t.path)}`),void 0!==t.input&&n.push(`  → 输入: ${JSON.stringify(t.input)}`),n}).join('\n')}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);export{r as assignInplace,s as checkMinimumVersion,o as chunkBy,p as prettifyErrorWithInput,i as regexFromString,x as uuidv4};
//# sourceMappingURL=common.js.map