import{klona as t}from'https://testingcf.jsdelivr.net/npm/klona/+esm';var e={};function r(e){eventOn('mag_command_parsed',(r,a)=>{for(const c of a){const a=t(r.stat_data),i=s(c.args[0]);switch(c.type){case'set':3===c.args.length&&c.args.splice(1,1),_.set(a,i,n(c.args[1]));break;case'insert':{const t=_.get(a,i),e=_.isArray(t),r=_.isPlainObject(t);if(!e&&!r)continue;const s=n(c.args.at(-1));if(2===c.args.length)e?t.push(s):_.assign(t,s);else{const r=n(c.args[1]);e?t.splice(r,0,s):t[String(r)]=s}break}case'delete':_.unset(a,c.args)}const o=e.safeParse(a);o.success&&(r.stat_data=o.data)}a.length=0})}function s(t){return t.replace(/^[\\"'` ]*(.*?)[\\"'` ]*$/,'$1')}function n(t){const e=t.trim();if('true'===e)return!0;if('false'===e)return!1;if('null'===e)return null;if('undefined'!==e){try{return JSON.parse(e)}catch(t){if(e.startsWith('{')&&e.endsWith('}')||e.startsWith('[')&&e.endsWith(']'))try{const t=new Function(`return ${e};`)();if(_.isObject(t)||Array.isArray(t))return t}catch(t){}}try{return YAML.parse(e)}catch(t){}return s(t)}}e.d=(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},e.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);export{r as registerMvuSchema};
//# sourceMappingURL=mvu_zod.js.map