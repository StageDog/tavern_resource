import{toSimplified as n,toTraditional as t}from'https://testingcf.jsdelivr.net/npm/chinese-simple2traditional/+esm';async function e(){const n=getLorebooks();let t=null;const e=$('<div>').append('<div><h4><span>请选择你要处理的世界书</span></h4></div>',$('<div>').append($('<select><option value="">--- None ---</option></select>').append(n.map((n,t)=>new Option(n,String(t)))).on('change',async function(){const e=String($(this).val());if(''===e)return void(t=null);const i=n.at(Number(e));t=i??null})));return await SillyTavern.callGenericPopup(e[0],SillyTavern.POPUP_TYPE.CONFIRM)===SillyTavern.POPUP_RESULT.AFFIRMATIVE&&t?t:null}async function i(n,t,e){null!==n&&(await updateLorebookEntriesWith(n,n=>(n.forEach(n=>{n.comment=t(n.comment??''),n.content=t(n.content??''),n.keys=n.keys.map(n=>t(n??'')),n.filters=n.filters.map(n=>t(n??''))}),n)),SillyTavern.callGenericPopup(`已将 '${n}' 完全翻译成${e}`,SillyTavern.POPUP_TYPE.TEXT))}$(()=>{!async function(n){const t=await fetch(n);if(!t.ok)return!1;const e=await t.text();replaceScriptInfo(e)}('https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/src/酒馆助手/世界书繁简互换/README.md'),appendInexistentScriptButtons([{name:'将世界书翻译成简体',visible:!0},{name:'将世界书翻译成繁体',visible:!0}]),eventOn(getButtonEvent('将世界书翻译成繁体'),async()=>{await i(await e(),t,'繁体')}),eventOn(getButtonEvent('将世界书翻译成简体'),async()=>{await i(await e(),n,'简体')})});
//# sourceMappingURL=index.js.map