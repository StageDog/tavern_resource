function e(e){const n=$('#macro-replace-disable-toggle');n.length>0&&n.prop('checked')!==!e&&n.prop('checked',!e)[0].dispatchEvent(new Event('click'));const t=$('#TH-macro-enabled, #TH-macro-disabled');t.length>0&&t.prop('checked')!==!e&&t.trigger('click'),window.EjsTemplate&&EjsTemplate.setFeatures({enabled:e,generate_enabled:!0,generate_loader_enabled:!0,inject_loader_enabled:!0,render_enabled:!1,render_loader_enabled:!1,code_blocks_enabled:!1,raw_message_evaluation_enabled:!1,filter_message_enabled:!1,autosave_enabled:!1,preload_worldinfo_enabled:!1,invert_enabled:!0,compile_workers:!1,sandbox:!1})}$(()=>{!async function(e){const n=await fetch(e);if(!n.ok)return!1;const t=await n.text();replaceScriptInfo(t)}('https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/src/酒馆助手/禁用酒馆助手宏和提示词模板/README.md'),e(!1),eventOn(getButtonEvent('禁用酒馆助手宏和提示词模板'),()=>{e(!1)}),eventOn(getButtonEvent('启用酒馆助手宏和提示词模板'),()=>{e(!0)});const n=_.throttle(()=>{const e=getScriptButtons(),n=e.find(e=>'启用酒馆助手宏和提示词模板'===e.name||'禁用酒馆助手宏和提示词模板'===e.name);if(!n)return void appendInexistentScriptButtons([{name:'启用酒馆助手宏和提示词模板',visible:!0}]);const t=!!$('#macro-replace-disable-toggle, #TH-macro-enabled, #TH-macro-disabled').prop('checked');t!==('启用酒馆助手宏和提示词模板'===n.name)&&(n.name=t?'启用酒馆助手宏和提示词模板':'禁用酒馆助手宏和提示词模板',replaceScriptButtons(e))},1e3,{trailing:!1});eventOn(tavern_events.SETTINGS_UPDATED,n),n()}),$(window).on('pagehide',()=>e(!0));
//# sourceMappingURL=index.js.map