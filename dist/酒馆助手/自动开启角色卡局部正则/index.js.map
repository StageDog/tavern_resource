{"version":3,"file":"index.js","mappings":"AAEAA,EAAE,KACAC,QAAQC,cAAcC,aAAcC,UAClC,MAAMC,EAAaC,YAAYD,WACzBE,EAAcD,YAAYC,YAEhC,QAAoBC,IAAhBD,EACF,OAEF,MAAME,EAASJ,EAAWE,GAAaE,OACjCC,EAAqBJ,YAAYK,kBAAkBC,wBACpDF,EAAmBG,SAASJ,KAC/BC,EAAmBI,KAAKL,SAClBM,aAAaC,QAAQC,qBACrBX,YAAYY,iBACZZ,YAAYa","sources":["src://tavern_helper_template/src/酒馆助手/自动开启角色卡局部正则/index.ts"],"sourcesContent":["export {};\n\n$(() => {\n  eventOn(tavern_events.CHAT_CHANGED, async () => {\n    const characters = SillyTavern.characters;\n    const characterId = SillyTavern.characterId;\n\n    if (characterId === undefined) {\n      return;\n    }\n    const avatar = characters[characterId].avatar;\n    const extension_settings = SillyTavern.extensionSettings.character_allowed_regex;\n    if (!extension_settings.includes(avatar)) {\n      extension_settings.push(avatar);\n      await TavernHelper.builtin.saveSettings();\n      await SillyTavern.saveChat();\n      await SillyTavern.reloadCurrentChat();\n    }\n  });\n});\n"],"names":["$","eventOn","tavern_events","CHAT_CHANGED","async","characters","SillyTavern","characterId","undefined","avatar","extension_settings","extensionSettings","character_allowed_regex","includes","push","TavernHelper","builtin","saveSettings","saveChat","reloadCurrentChat"],"ignoreList":[],"sourceRoot":""}