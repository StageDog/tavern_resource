{"version":3,"file":"index.js","mappings":"AAAAA,EAAE,KACAC,8BAA8B,CAC5B,CAAEC,KAAM,OAAQC,SAAS,GACzB,CAAED,KAAM,OAAQC,SAAS,KAE3BC,QAAQC,eAAe,QAASC,UAC9B,MACMC,EAAMC,YAAYC,KAAKC,OAAS,EAEhCC,QAAeH,YAAYI,iBAC/B,4BAAiCL,KACjCC,YAAYK,WAAWC,OAEzB,IAAKH,EAEH,YADAI,OAAOC,MAAM,WAGf,MAAOC,EAAOC,GAAOP,EAAMQ,MAAM,KAAKC,IAAIC,QAC1C,GAAIJ,EAZQ,GAYOA,EAAQC,GAAOA,EAAMX,EACtCQ,OAAOC,MAAM,eADf,CAIAhB,EAAE,SAASsB,WAAWC,SACtB,IAAK,IAAIC,EAAIP,EAAOO,GAAKN,EAAKM,IAC5BC,QAAQC,cAAclB,YAAYC,KAAKe,GAAI,CAAEG,QAASH,IACtDI,UACEpB,YAAYC,KAAKe,GAAGK,QAAUC,cAAcC,sBAAwBD,cAAcE,2BAClFR,EANJ,IAUFpB,QAAQC,eAAe,QAASG,YAAYyB","sources":["src://tavern_helper_template/src/酒馆助手/显示区间消息/index.ts"],"sourcesContent":["$(() => {\n  appendInexistentScriptButtons([\n    { name: '显示区间', visible: true },\n    { name: '恢复默认', visible: true },\n  ]);\n  eventOn(getButtonEvent('显示区间'), async () => {\n    const min = 0;\n    const max = SillyTavern.chat.length - 1;\n\n    const range = (await SillyTavern.callGenericPopup(\n      `请输入显示区间 (格式: 0-10, 范围: ${min}-${max})`,\n      SillyTavern.POPUP_TYPE.INPUT,\n    )) as string | undefined;\n    if (!range) {\n      toastr.error('未填入有效区间');\n      return;\n    }\n    const [start, end] = range.split('-').map(Number);\n    if (start < min || start > end || end > max) {\n      toastr.error('未填入有效区间');\n      return;\n    }\n    $('#chat').children().remove();\n    for (let i = start; i <= end; i++) {\n      builtin.addOneMessage(SillyTavern.chat[i], { forceId: i });\n      eventEmit(\n        SillyTavern.chat[i].is_user ? tavern_events.USER_MESSAGE_RENDERED : tavern_events.CHARACTER_MESSAGE_RENDERED,\n        i,\n      );\n    }\n  });\n  eventOn(getButtonEvent('恢复默认'), SillyTavern.reloadCurrentChat);\n});\n"],"names":["$","appendInexistentScriptButtons","name","visible","eventOn","getButtonEvent","async","max","SillyTavern","chat","length","range","callGenericPopup","POPUP_TYPE","INPUT","toastr","error","start","end","split","map","Number","children","remove","i","builtin","addOneMessage","forceId","eventEmit","is_user","tavern_events","USER_MESSAGE_RENDERED","CHARACTER_MESSAGE_RENDERED","reloadCurrentChat"],"sourceRoot":""}