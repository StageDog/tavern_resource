{"version":3,"file":"index.js","mappings":"AAAA,MAAMA,EAAU,YAGhB,IAAIC,EAeAC,EAdJC,eAAeC,IACb,MAAMC,QAAiBC,MAAMN,GAC7B,IAAKK,EAASE,GAEZ,YADAC,OAAOC,MAAM,QAAQT,0BAAiC,WAIxD,MAAMU,QAAgBL,EAASM,OAC3BV,GAAOS,IACTT,EAAMS,EACNE,EAAE,cAAcC,IAAIZ,GAAK,GAAGa,cAAc,IAAIC,MAAM,UAExD,CAGAH,EAAE,KACAV,EAAKc,YAAYZ,EAnBL,OAqBdQ,EAAEK,QAAQC,GAAG,WAAY,KACvBC,cAAcjB","sources":["src://tavern_helper_template/src/酒馆助手/实时修改css/index.ts"],"sourcesContent":["const css_url = '填入你的css链接';\nconst delay = 1000;\n\nlet css: string;\nasync function refresh_css() {\n  const response = await fetch(css_url);\n  if (!response.ok) {\n    toastr.error(`未能从 '${css_url}' 获取 css 文件, 请确认链接是否有效`, '实时修改css');\n    return;\n  }\n\n  const new_css = await response.text();\n  if (css != new_css) {\n    css = new_css;\n    $('#customCSS').val(css)[0].dispatchEvent(new Event('input'));\n  }\n}\n\nlet id: number;\n$(() => {\n  id = setInterval(refresh_css, delay);\n});\n$(window).on('pagehide', () => {\n  clearInterval(id);\n});\n"],"names":["css_url","css","id","async","refresh_css","response","fetch","ok","toastr","error","new_css","text","$","val","dispatchEvent","Event","setInterval","window","on","clearInterval"],"sourceRoot":""}