const e=z,t=e.z.object({资源预载:e.z.string().default('')}),a={type:'script',script_id:getScriptId()};$(()=>{Promise.allSettled(function(){const e=t.parse(getVariables(a));return insertVariables(e,a),_(getTavernRegexes()).filter(e=>e.enabled&&e.script_name.includes('预载-')).map(e=>({title:e.script_name.replace('预载-','').replaceAll(/【.+?】/gs,''),content:e.replace_string})).concat([{title:'脚本变量',content:e.资源预载}]).map(({title:e,content:t})=>({title:e,assets:t.split('\n').map(e=>e.trim()).filter(e=>!!e)})).value()}().flatMap(e=>e.assets.map(e=>new Promise(t=>{const a=new Image;a.onload=t,a.onerror=t,a.src=e}))))});
//# sourceMappingURL=index.js.map