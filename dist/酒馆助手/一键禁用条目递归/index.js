$(()=>{var n;!async function(n){const e=await fetch(n);if(!e.ok)return!1;const t=await e.text();replaceScriptInfo(t)}('https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/src/酒馆助手/一键禁用条目递归/README.md'),n=!0,appendInexistentScriptButtons(getScriptId(),[{name:'处理要禁用递归扫描的世界书',visible:n}]),eventOnButton('处理要禁用递归扫描的世界书',async()=>{const n=getLorebooks();let e=null;const t=$('<div>').append('<div><h4><span>请选择你要处理的世界书</span></h4></div>',$('<div>').append($('<select><option value="">--- None ---</option></select>').append(n.map((n,e)=>new Option(n,String(e)))).on('change',async function(){const t=String($(this).val());if(''===t)return void(e=null);const i=n.at(Number(t));e=i??null})));await SillyTavern.callGenericPopup(t[0],SillyTavern.POPUP_TYPE.CONFIRM)===SillyTavern.POPUP_RESULT.AFFIRMATIVE&&e&&(await updateLorebookEntriesWith(e,n=>(n.forEach(n=>{n.exclude_recursion=!0,n.prevent_recursion=!0}),n)),SillyTavern.callGenericPopup(`已禁用 '${e}' 的递归扫描`,SillyTavern.POPUP_TYPE.TEXT))})});
//# sourceMappingURL=index.js.map